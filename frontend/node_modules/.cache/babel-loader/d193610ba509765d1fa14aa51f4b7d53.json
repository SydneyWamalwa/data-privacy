{"ast":null,"code":"// frontend/components/dashboard.jsx\nimport React,{useState,useEffect}from'react';import{Bar,Doughnut}from'react-chartjs-2';import Chart from'chart.js/auto';import'/frontend/static/style.css';const Dashboard=()=>{const[analyticsData,setAnalyticsData]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const response=await fetch('http://localhost:5001/api/segments');const data=await response.json();setAnalyticsData(data);}catch(error){console.error('Error loading analytics:',error);}};fetchData();const interval=setInterval(fetchData,300000);return()=>clearInterval(interval);},[]);if(!analyticsData)return/*#__PURE__*/React.createElement(\"div\",null,\"Loading analytics...\");return/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"metric-card\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Total Customers\"),/*#__PURE__*/React.createElement(\"div\",{className:\"metric-value\"},analyticsData.participants)),/*#__PURE__*/React.createElement(\"div\",{className:\"metric-card\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Average Budget\"),/*#__PURE__*/React.createElement(\"div\",{className:\"metric-value\"},\"$\",analyticsData.stats.average_budget.toFixed(2))),/*#__PURE__*/React.createElement(\"div\",{className:\"chart-card\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Customer Segments\"),/*#__PURE__*/React.createElement(Bar,{data:{labels:analyticsData.segments.map((_,i)=>`Group ${i+1}`),datasets:[{label:'Customers per Segment',data:analyticsData.segments.reduce((acc,seg)=>{acc[seg]=(acc[seg]||0)+1;return acc;},[]),backgroundColor:['#3498db','#2ecc71','#9b59b6','#f1c40f','#e74c3c']}]}})),/*#__PURE__*/React.createElement(\"div\",{className:\"chart-card\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Interest Distribution\"),/*#__PURE__*/React.createElement(Doughnut,{data:{labels:['Tech','Finance','Sports','Health','Education'],datasets:[{data:[analyticsData.stats.common_interests===1?40:0,analyticsData.stats.common_interests===2?40:0// Add other interests...\n],backgroundColor:['#3498db','#2ecc71','#9b59b6','#f1c40f','#e74c3c']}]}})));};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Bar","Doughnut","Chart","Dashboard","analyticsData","setAnalyticsData","fetchData","response","fetch","data","json","error","console","interval","setInterval","clearInterval","createElement","className","participants","stats","average_budget","toFixed","labels","segments","map","_","i","datasets","label","reduce","acc","seg","backgroundColor","common_interests"],"sources":["/home/sydney/data-privacy/frontend/src/components/Dashboard.jsx"],"sourcesContent":["// frontend/components/dashboard.jsx\nimport React, { useState, useEffect } from 'react';\nimport { Bar, Doughnut } from 'react-chartjs-2';\nimport Chart from 'chart.js/auto';\nimport '/frontend/static/style.css'\nconst Dashboard = () => {\n  const [analyticsData, setAnalyticsData] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('http://localhost:5001/api/segments');\n        const data = await response.json();\n        setAnalyticsData(data);\n      } catch (error) {\n        console.error('Error loading analytics:', error);\n      }\n    };\n\n    fetchData();\n    const interval = setInterval(fetchData, 300000);\n    return () => clearInterval(interval);\n  }, []);\n\n  if (!analyticsData) return <div>Loading analytics...</div>;\n\n  return (\n    <div className=\"dashboard-container\">\n      {/* Key Metrics */}\n      <div className=\"metric-card\">\n        <h2>Total Customers</h2>\n        <div className=\"metric-value\">{analyticsData.participants}</div>\n      </div>\n\n      <div className=\"metric-card\">\n        <h2>Average Budget</h2>\n        <div className=\"metric-value\">\n          ${analyticsData.stats.average_budget.toFixed(2)}\n        </div>\n      </div>\n\n      {/* Segments Chart */}\n      <div className=\"chart-card\">\n        <h3>Customer Segments</h3>\n        <Bar\n          data={{\n            labels: analyticsData.segments.map((_, i) => `Group ${i + 1}`),\n            datasets: [{\n              label: 'Customers per Segment',\n              data: analyticsData.segments.reduce((acc, seg) => {\n                acc[seg] = (acc[seg] || 0) + 1;\n                return acc;\n              }, []),\n              backgroundColor: ['#3498db', '#2ecc71', '#9b59b6', '#f1c40f', '#e74c3c']\n            }]\n          }}\n        />\n      </div>\n\n      {/* Interests Chart */}\n      <div className=\"chart-card\">\n        <h3>Interest Distribution</h3>\n        <Doughnut\n          data={{\n            labels: ['Tech', 'Finance', 'Sports', 'Health', 'Education'],\n            datasets: [{\n              data: [\n                analyticsData.stats.common_interests === 1 ? 40 : 0,\n                analyticsData.stats.common_interests === 2 ? 40 : 0,\n                // Add other interests...\n              ],\n              backgroundColor: ['#3498db', '#2ecc71', '#9b59b6', '#f1c40f', '#e74c3c']\n            }]\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}